# ğŸš—ğŸ”§ 404 ìŠ¤ë§ˆíŠ¸ íŒ©í† ë¦¬ - ê·¼íƒœ ê´€ë¦¬ ë° ì±„íŒ… ì‹œìŠ¤í…œ

Spring Boot ê¸°ë°˜ ì§ì› ì¶œí‡´ê·¼, ìŠ¤ì¼€ì¤„ ê´€ë¦¬ ë° ì‹¤ì‹œê°„ ì±„íŒ… ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

# 404found 2ì°¨ í”„ë¡œì íŠ¸
> **í”„ë¡œì íŠ¸ì˜ ëª¨ë“  ê³¼ì •ì„ ë‹´ì€ ìƒì„¸ ì‹œì—° ì˜ìƒì…ë‹ˆë‹¤.** > ì´ë¯¸ì§€ ë˜ëŠ” ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ìœ íŠœë¸Œ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.
<div align="center">
  <a href="https://www.youtube.com/watch?v=gPBmVkVSfhc">
    <img src="https://img.youtube.com/vi/gPBmVkVSfhc/maxresdefault.jpg" width="80%" alt="404found 2ì°¨ í”„ë¡œì íŠ¸ ì‹œì—°ì˜ìƒ">
    <br>
    <img src="https://img.shields.io/badge/YouTube-Watch_Video-red?style=for-the-badge&logo=youtube" alt="Youtube Button">
  </a>
</div>

## ğŸ“‹ ëª©ì°¨

- [í”„ë¡œì íŠ¸ ê°œìš”](#í”„ë¡œì íŠ¸-ê°œìš”)
- [ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ì„¤ì¹˜ ë° ì‹¤í–‰](#ì„¤ì¹˜-ë°-ì‹¤í–‰)
- [API ì—”ë“œí¬ì¸íŠ¸](#api-ì—”ë“œí¬ì¸íŠ¸)
- [WebSocket ì´ë²¤íŠ¸](#websocket-ì´ë²¤íŠ¸)
- [í™˜ê²½ ë³€ìˆ˜ ì„¤ì •](#í™˜ê²½-ë³€ìˆ˜-ì„¤ì •)

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

Spring Boot ê¸°ë°˜ ê·¼íƒœ ê´€ë¦¬ ë° ì‹¤ì‹œê°„ ì±„íŒ… ì‹œìŠ¤í…œìœ¼ë¡œ, ìŠ¤ë§ˆíŠ¸ íŒ©í† ë¦¬ì˜ ì§ì› ì¶œí‡´ê·¼ ê´€ë¦¬ì™€ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.

**ì£¼ìš” ì—­í• :**
- ì§ì› ì¶œí‡´ê·¼ ê´€ë¦¬ (ì¶œê·¼/í‡´ê·¼/ì—°ì°¨/ë³‘ê°€ ë“±)
- WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ ì±„íŒ…
- ì›”ê°„ ê¸‰ì—¬ ìš”ì•½ ë° ê·¼íƒœ í†µê³„
- ìë™ ê²°ê·¼ ì²˜ë¦¬ ìŠ¤ì¼€ì¤„ëŸ¬

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ğŸ‘¥ ê·¼íƒœ & ì±„íŒ… ì‹œìŠ¤í…œ
| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| **ì¶œí‡´ê·¼ ê´€ë¦¬** | ì¶œê·¼/í‡´ê·¼ ì²˜ë¦¬, ìë™ ì§€ê° íŒì • |
| **ì—°ì°¨/ë³‘ê°€ ê´€ë¦¬** | ì—°ì°¨/ë°˜ì°¨/ë³‘ê°€ ì‹ ì²­ ë° ì°¨ê° |
| **ê¸‰ì—¬ ê³„ì‚°** | ì¼ë‹¹ì œ/ì‹œê¸‰ì œ ìë™ ê¸‰ì—¬ ê³„ì‚° |
| **ì‹¤ì‹œê°„ ì±„íŒ…** | WebSocket ê¸°ë°˜ ë‹¨ì²´ ì±„íŒ… |
| **ìë™ ê²°ê·¼ ì²˜ë¦¬** | í‰ì¼ 18:01 í‡´ê·¼ ë¯¸ì²˜ë¦¬ ê°ì§€, 00:00:01 ê²°ê·¼ ìë™ ê¸°ë¡ |
| **ê´€ë¦¬ì ê¸°ëŠ¥** | ê·¼íƒœ ìˆ˜ì •/ì‚­ì œ, ì›”ê°„ í†µê³„ |

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### ï¿½ Spring Boot ë°±ì—”ë“œ
```
â˜• Java 17
ğŸƒ Spring Boot 4.0.1 - ì›¹ í”„ë ˆì„ì›Œí¬
ğŸ”Œ Spring WebSocket (STOMP) - ì‹¤ì‹œê°„ í†µì‹ 
ğŸ—„ï¸ Spring Data JPA - ORM
ğŸ” JWT (jjwt) - ì¸ì¦
ğŸ“¡ MySQL Connector J - MySQL ë“œë¼ì´ë²„
ğŸ”„ Lombok - ì½”ë“œ ìë™ ìƒì„±
```

### ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤
| ì‹œìŠ¤í…œ | ë°ì´í„°ë² ì´ìŠ¤ |
|--------|-------------|
| Spring (ê·¼íƒœ ì‹œìŠ¤í…œ) | MySQL (`smart_factory` DB) |

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
404-spring/hr_service/
â”‚
â”œâ”€â”€ pom.xml                         # Maven ì„¤ì •
â””â”€â”€ src/main/java/com/example/chat_service/
    â”œâ”€â”€ ChatServiceApplication.java # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
    â”œâ”€â”€ config/
    â”‚   â”œâ”€â”€ WebConfig.java          # ì›¹ ì„¤ì •
    â”‚   â””â”€â”€ WebSocketConfig.java    # WebSocket ì„¤ì •
    â”œâ”€â”€ controller/
    â”‚   â”œâ”€â”€ ChatController.java     # ì±„íŒ… ì»¨íŠ¸ë¡¤ëŸ¬
    â”‚   â”œâ”€â”€ AttendanceController.java    # ì¶œí‡´ê·¼ API
    â”‚   â””â”€â”€ AdminAttendanceController.java # ê´€ë¦¬ì API
    â”œâ”€â”€ service/
    â”‚   â”œâ”€â”€ AttendanceService.java      # ê·¼íƒœ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
    â”‚   â”œâ”€â”€ AttendanceAdminService.java # ê´€ë¦¬ì ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
    â”‚   â””â”€â”€ AttendanceScheduler.java    # ìŠ¤ì¼€ì¤„ëŸ¬
    â”œâ”€â”€ entity/
    â”‚   â”œâ”€â”€ Employee.java          # ì§ì› ì—”í‹°í‹°
    â”‚   â””â”€â”€ AttendanceLog.java     # ê·¼íƒœ ê¸°ë¡ ì—”í‹°í‹°
    â”œâ”€â”€ repository/
    â”‚   â”œâ”€â”€ EmployeeRepository.java
    â”‚   â””â”€â”€ AttendanceLogRepository.java
    â””â”€â”€ dto/
        â”œâ”€â”€ ChatMessage.java
        â””â”€â”€ AttendanceLogResponse.java
```

---

## ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰

### ìš”êµ¬ì‚¬í•­
- Java 17
- Maven 3.6+
- MySQL 8.0+

### Spring Boot ì‹¤í–‰

```bash
# hr_service ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd hr_service

# ì˜ì¡´ì„± ì„¤ì¹˜ ë° ë¹Œë“œ
mvn clean install

# ì„œë²„ ì‹¤í–‰ (ê¸°ë³¸ í¬íŠ¸ 8080)
mvn spring-boot:run

# ë˜ëŠ” JAR íŒŒì¼ë¡œ ì‹¤í–‰
java -jar target/chat-service-0.0.1-SNAPSHOT.jar
```

---

## ğŸ“¡ API ì—”ë“œí¬ì¸íŠ¸

### ğŸ” ê·¼íƒœ ê´€ë¦¬ API (Spring Boot - `/api/attendance`)

| ë©”ì„œë“œ | ì—”ë“œí¬ì¸íŠ¸ | ì„¤ëª… | ìš”ì²­ ë³¸ë¬¸ |
|--------|-----------|------|----------|
| POST | `/api/attendance/check-in` | ì¶œê·¼ ì²˜ë¦¬ | `{"id": 1}` |
| POST | `/api/attendance/check-out` | í‡´ê·¼ ì²˜ë¦¬ | `{"id": 1}` |

### ğŸ‘‘ ê´€ë¦¬ì API (Spring Boot - `/api/admin/attendance`)

| ë©”ì„œë“œ | ì—”ë“œí¬ì¸íŠ¸ | ì„¤ëª… | íŒŒë¼ë¯¸í„° |
|--------|-----------|------|----------|
| POST | `/api/admin/attendance/update` | ê·¼íƒœ ìƒíƒœ ì¼ê´„ ìˆ˜ì • | `employeeId`, `status`, `date`, `endDate` |
| DELETE | `/api/admin/attendance/delete` | ê·¼íƒœ ê¸°ë¡ ì¼ê´„ ì‚­ì œ | `employeeId`, `date`, `endDate` |
| GET | `/api/admin/attendance/monthly/{employeeId}` | íŠ¹ì • ì‚¬ì› ì›”ê°„ ì¡°íšŒ | `year`, `month` (ì„ íƒ) |
| GET | `/api/admin/attendance/salary/all-summary` | ì „ ì‚¬ì› ì›”ê¸‰ ìš”ì•½ | `year`, `month` (ì„ íƒ) |
| GET | `/api/admin/attendance/monthly/all` | ì „ ì‚¬ì› ì›”ê°„ ê¸°ë¡ ì¡°íšŒ | `year`, `month` (ì„ íƒ) |

---

## ğŸ”Œ WebSocket ì´ë²¤íŠ¸

### ï¿½ ì±„íŒ… ì‹œìŠ¤í…œ (Spring STOMP)

#### ì±„íŒ… (ì±„ë„: `/topic/public`)
| ì´ë²¤íŠ¸ | ì„¤ëª… |
|-------|------|
| STOMP SUBSCRIBE | `/topic/public` êµ¬ë… |
| SEND | `/app/chat.sendMessage` ë©”ì‹œì§€ ì „ì†¡ |
| SEND | `/app/chat.addUser` ì‚¬ìš©ì ì¶”ê°€ |

#### ê·¼íƒœ ì•Œë¦¼ (ì±„ë„: `/topic/attendance/{employeeId}`)
| ì´ë²¤íŠ¸ | ì„¤ëª… | ë°ì´í„° |
|-------|------|-------|
| `CHECK_IN` | ì¶œê·¼ ì™„ë£Œ | `{type, status, time}` |
| `CHECK_OUT` | í‡´ê·¼ ì™„ë£Œ | `{type, status, time, dailyWage, workingMinutes}` |
| `LEAVE_UPDATE` | ì—°ì°¨/ë³‘ê°€ ë³€ê²½ | `{type, status, remainingLeave, remainingSickLeave}` |
| `ABSENT` | ê²°ê·¼ ìë™ ì²˜ë¦¬ | `{type, status, date}` |

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### MySQL (`smart_factory`) - Spring Boot

#### `employee` í…Œì´ë¸”
| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `id` | BIGINT | PK, ìë™ ìƒì„± |
| `employee_number` | VARCHAR(8) | ì‚¬ì›ë²ˆí˜¸ (ê³ ìœ ) |
| `name` | VARCHAR(100) | ì´ë¦„ |
| `department` | VARCHAR(50) | ë¶€ì„œ |
| `position` | VARCHAR(50) | ì§ê¸‰ |
| `password_hash` | VARCHAR(255) | ë¹„ë°€ë²ˆí˜¸ í•´ì‹œ |
| `monthly_salary` | INT | ì›”ê¸‰ |
| `hourly_rate` | INT | ì‹œê¸‰ |
| `annual_leave` | DOUBLE | ì—°ì°¨ ì”ì—¬ |
| `sick_leave` | INT | ë³‘ê°€ ì”ì—¬ |

#### `attendance` í…Œì´ë¸”
| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `id` | BIGINT | PK, ìë™ ìƒì„± |
| `employee_id` | BIGINT | FK, ì‚¬ì› ID |
| `work_date` | DATE | ê·¼ë¬´ ë‚ ì§œ |
| `check_in` | TIME | ì¶œê·¼ ì‹œê°„ |
| `check_out` | TIME | í‡´ê·¼ ì‹œê°„ |
| `status` | VARCHAR(20) | ìƒíƒœ (ì¶œê·¼/ì§€ê°/í‡´ê·¼/ì—°ì°¨/ë³‘ê°€ ë“±) |
| `working_minutes` | INT | ì‹¤ì œ ê·¼ë¬´ ì‹œê°„ (ë¶„) |
| `daily_wage` | INT | ì¼ë‹¹ |

---

## âš™ï¸ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

### Spring Boot (`chat-service/src/main/resources/application.properties`)

```properties
# ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
spring.datasource.url=jdbc:mysql://127.0.0.1:3306/smart_factory?serverTimezone=Asia/Seoul
spring.datasource.username=root
spring.datasource.password=1234
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA ì„¤ì •
spring.jpa.hibernate.ddl-auto=update
